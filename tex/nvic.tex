\chapter{Nested Vectored Interrupt Controller}
The NVIC is a peripheral which acts as the interface between the interrupts generated by other peripherals and the CPU.
In order for a peripheral to cause an interrupt, the interrupt request signal must first pass through the NVIC.
This means that there is a central block which is responsible for managing the interrupts in the microcontroller.

The two main aspect of functionality which the NVIC provides in terms of interrupt management are now discussed.

\section{Interrupt Masking}
In this context, masking refers to refers to blocking or preventing interrupts.
By default all interrupts are masked out.
That means that even if a peripheral asserts an interrupt request line, the NVIC will prevent that interrupt request from being passed on to the CPU.
In order to enable an interrupt (or unmask it), the bit representing that specific interrupt should be set in the NVIC\_ISER.

By having interrupts disabled, a peripheral which has been incorrectly or erroneously configured is prevented from being able to cause unwanted interrupts. 

\section{Configurable Priority}
What happens if two interrupts from two different peripherals are requested simultaneously? Which one gets services first?

The answer is that the interrupts are serviced in an order according to their priority. 
By default the priority structure is the same order as the vector table: the interrupts with vectors at lower addresses have higher priority. 
A full understanding of the priority system is beyond the scope of this course, but it's interesting to note that it exists and it is functionality provided by the NVIC.
